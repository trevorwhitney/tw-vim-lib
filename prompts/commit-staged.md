Using two subagents in parallel, please prepare the currently staged changes for commit.

In the first subagent, run the formatter and linter, and fix any errors.
In the second subagent, run the tests and fix any failures.

If there are no errors or test failures, please commit the staged changes. 
If there are errors or failures that you fixed, please do not commit so that I can double check the changes.
